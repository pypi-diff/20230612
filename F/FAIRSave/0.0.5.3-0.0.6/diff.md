# Comparing `tmp/FAIRSave-0.0.5.3-py3-none-any.whl.zip` & `tmp/FAIRSave-0.0.6-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 39288 bytes, number of entries: 23
--rw-rw-rw-  2.0 fat        0 b- defN 22-Nov-09 10:29 FAIRSave/__init__.py
--rw-rw-rw-  2.0 fat     9303 b- defN 23-Jan-27 14:59 FAIRSave/configuration.py
--rw-rw-rw-  2.0 fat     2872 b- defN 23-Jan-27 14:59 FAIRSave/eln_manager.py
--rw-rw-rw-  2.0 fat     4628 b- defN 23-Jan-27 14:59 FAIRSave/kadi_download.py
--rw-rw-rw-  2.0 fat     4081 b- defN 23-Jan-27 14:59 FAIRSave/kadi_identifier.py
--rw-rw-rw-  2.0 fat     3613 b- defN 23-Jan-27 14:59 FAIRSave/kadi_instances.py
--rw-rw-rw-  2.0 fat     7754 b- defN 23-Jan-27 14:59 FAIRSave/kadi_json_writer.py
--rw-rw-rw-  2.0 fat    20564 b- defN 23-Feb-03 12:01 FAIRSave/kadi_record.py
--rw-rw-rw-  2.0 fat    13386 b- defN 23-Jan-27 14:59 FAIRSave/kadi_search.py
--rw-rw-rw-  2.0 fat     1351 b- defN 23-Feb-03 12:03 FAIRSave/kadi_template.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Nov-09 10:29 FAIRSave/tools/__init__.py
--rw-rw-rw-  2.0 fat     9443 b- defN 23-Jan-24 17:31 FAIRSave/tools/comparison.py
--rw-rw-rw-  2.0 fat    16743 b- defN 22-Nov-17 13:55 FAIRSave/tools/difference.py
--rw-rw-rw-  2.0 fat     6976 b- defN 22-Nov-17 13:55 FAIRSave/tools/json_reader.py
--rw-rw-rw-  2.0 fat    10754 b- defN 22-Nov-17 13:55 FAIRSave/tools/key.py
--rw-rw-rw-  2.0 fat     9861 b- defN 22-Nov-17 13:55 FAIRSave/tools/metadata.py
--rw-rw-rw-  2.0 fat     2536 b- defN 22-Nov-17 13:55 FAIRSave/tools/surftheowl_json.py
--rw-rw-rw-  2.0 fat     4495 b- defN 22-Nov-17 13:54 FAIRSave/tools/validation.py
--rw-rw-rw-  2.0 fat    11734 b- defN 23-Feb-03 12:03 FAIRSave-0.0.5.3.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     3814 b- defN 23-Feb-03 12:03 FAIRSave-0.0.5.3.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Feb-03 12:03 FAIRSave-0.0.5.3.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        9 b- defN 23-Feb-03 12:03 FAIRSave-0.0.5.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     1889 b- defN 23-Feb-03 12:03 FAIRSave-0.0.5.3.dist-info/RECORD
-23 files, 145898 bytes uncompressed, 36242 bytes compressed:  75.2%
+Zip file size: 38920 bytes, number of entries: 23
+-rw-rw-rw-  2.0 fat        0 b- defN 23-Mar-01 12:17 FAIRSave/__init__.py
+-rw-rw-rw-  2.0 fat     9303 b- defN 23-Mar-01 12:17 FAIRSave/configuration.py
+-rw-rw-rw-  2.0 fat     2872 b- defN 23-Mar-01 12:17 FAIRSave/eln_manager.py
+-rw-rw-rw-  2.0 fat     4454 b- defN 23-Jun-11 18:32 FAIRSave/kadi_download.py
+-rw-rw-rw-  2.0 fat     4081 b- defN 23-Mar-01 12:17 FAIRSave/kadi_identifier.py
+-rw-rw-rw-  2.0 fat     3613 b- defN 23-Mar-01 12:17 FAIRSave/kadi_instances.py
+-rw-rw-rw-  2.0 fat     8198 b- defN 23-May-16 11:02 FAIRSave/kadi_json_writer.py
+-rw-rw-rw-  2.0 fat    18172 b- defN 23-Jun-12 13:18 FAIRSave/kadi_record.py
+-rw-rw-rw-  2.0 fat    14016 b- defN 23-Jun-11 20:48 FAIRSave/kadi_search.py
+-rw-rw-rw-  2.0 fat     1351 b- defN 23-Mar-01 12:17 FAIRSave/kadi_template.py
+-rw-rw-rw-  2.0 fat        0 b- defN 23-Mar-01 12:17 FAIRSave/tools/__init__.py
+-rw-rw-rw-  2.0 fat     9443 b- defN 23-Mar-01 12:17 FAIRSave/tools/comparison.py
+-rw-rw-rw-  2.0 fat    16743 b- defN 23-Mar-01 12:17 FAIRSave/tools/difference.py
+-rw-rw-rw-  2.0 fat     6976 b- defN 23-Mar-01 12:17 FAIRSave/tools/json_reader.py
+-rw-rw-rw-  2.0 fat    10754 b- defN 23-Mar-01 12:17 FAIRSave/tools/key.py
+-rw-rw-rw-  2.0 fat     9861 b- defN 23-Mar-01 12:17 FAIRSave/tools/metadata.py
+-rw-rw-rw-  2.0 fat     2536 b- defN 23-Mar-01 12:17 FAIRSave/tools/surftheowl_json.py
+-rw-rw-rw-  2.0 fat     4495 b- defN 23-Mar-01 12:17 FAIRSave/tools/validation.py
+-rw-rw-rw-  2.0 fat    11734 b- defN 23-Jun-12 14:16 FAIRSave-0.0.6.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     3825 b- defN 23-Jun-12 14:16 FAIRSave-0.0.6.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-12 14:16 FAIRSave-0.0.6.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        9 b- defN 23-Jun-12 14:16 FAIRSave-0.0.6.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     1879 b- defN 23-Jun-12 14:16 FAIRSave-0.0.6.dist-info/RECORD
+23 files, 144407 bytes uncompressed, 35894 bytes compressed:  75.1%
```

## zipnote {}

```diff
@@ -48,23 +48,23 @@
 
 Filename: FAIRSave/tools/surftheowl_json.py
 Comment: 
 
 Filename: FAIRSave/tools/validation.py
 Comment: 
 
-Filename: FAIRSave-0.0.5.3.dist-info/LICENSE
+Filename: FAIRSave-0.0.6.dist-info/LICENSE
 Comment: 
 
-Filename: FAIRSave-0.0.5.3.dist-info/METADATA
+Filename: FAIRSave-0.0.6.dist-info/METADATA
 Comment: 
 
-Filename: FAIRSave-0.0.5.3.dist-info/WHEEL
+Filename: FAIRSave-0.0.6.dist-info/WHEEL
 Comment: 
 
-Filename: FAIRSave-0.0.5.3.dist-info/top_level.txt
+Filename: FAIRSave-0.0.6.dist-info/top_level.txt
 Comment: 
 
-Filename: FAIRSave-0.0.5.3.dist-info/RECORD
+Filename: FAIRSave-0.0.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## FAIRSave/kadi_download.py

```diff
@@ -73,35 +73,31 @@
                   '"download_metadata_kadi" in a future release!',
                   DeprecationWarning)
     return download_metadata_kadi(*args, **kwargs)
 
 
 def download_metadata_kadi(instance: str,
                            file_path: Optional[str] = None,
-                           save_as_txt: bool = False,
                            record_id: Optional[int] = None,
                            record: Optional[str] = None,
                            collection: Optional[str] = None) -> dict:
     """Prints the Metadata of a record to a text file.
 
     Args:
         Instance: The name of the instance to use in combination with a config file.
         file_path: Path to store the metadata.txt. Defaults to None.
         save_as_txt: Is either False for not saving the metadata as txt file or True for saving.
         record_id: ID of the record to get metadata from. Defaults to None.
         record: Name of the record. Defaults to None.
         collection: Collection to the record in. Defaults to None.
     """
-    # Create Manager with configuration of the host and personal access token (PAT)
-    manager = KadiManager(instance=instance)
 
     if record is not None:
         record_id = search_item_id_kadi(instance=instance, title=record,
                                         item='record', collection=collection)
 
-    metadata = manager.record(id=record_id).meta
+    metadata = KadiManager(instance=instance).record(id=record_id).meta
 
-    if save_as_txt:
-        with open(record_id + '.txt', 'w+') as f:
-            pprint.pprint(metadata, indent=4, stream=f)
+    with open(file_path + '/' + record_id + '.txt', 'w+') as f:
+        pprint.pprint(metadata, indent=4, stream=f)
 
     return metadata
```

## FAIRSave/kadi_json_writer.py

```diff
@@ -14,15 +14,14 @@
     """Create a list of dicts from a dict
 
     :param key: Key of a dict item.
     :param value: Value of a dict item.
     :return: dict_for_list
     :rtype: dict
     """
-
     dict_for_list = {'key': key,
                      'type': type(value).__name__,
                      'value': []}
 
     for j in value.keys():
         # Float with unit is a dict that needs to be a dict with the unit as string in it
         if isinstance(value.get(j), dict) and word_in_list('@unit', list(value.get(j).keys())):
@@ -81,14 +80,16 @@
     :return: dict_of_element
     :rtype: dict
     """
     if bool(list(attr.keys())) is True:
         if isinstance(ast.literal_eval(value), int):
             if value == '0' and (key == 'Relative_Starting_Position_Setpoint' or key == 'Targeted_Normal_Load'):
                 pass
+            elif attr.get('unit') == "": 
+                pass
             else:
                 dict_of_element = {'key': key,
                                    'type': type(ast.literal_eval(value)).__name__, list(attr.keys())[0]: attr.get('unit'),
                                    'value': int(value)}
                 return dict_of_element
         else:
             dict_of_element = {'key': key,
@@ -101,23 +102,27 @@
         dict_of_element = {'key': key,
                            'type': 'date',
                            'value': value}
         return dict_of_element
 
     else:
         # Floor and Room need to be str
-        if key == 'Room' or key == 'Floor':
+        if key == 'Room_Number' or key == 'Floor':
             value = str(value)
-        elif key == 'Targeted Normal Load':
+        elif key == 'Targeted_Normal_Load':
             value = round(float(value), 5)
         # Only the ID is interesting
         elif key == 'Specimen_ID':
             value = value.split().pop(-1)
-        elif key == 'Starting Position' or key == 'Relative Transverse Position' or key == 'Target Controlled Humidity':
+        elif key == 'Starting Position' or key == 'Relative_Transverse_Position' or key == 'Target_Controlled_Humidity':
             value = round(float(value), 5)
+        elif type(value) == int:
+            value = int(value)
+        elif type(value) == float:
+            value = float(value)
         elif value.isdigit() is True and isinstance(ast.literal_eval(value), int):
             value = int(value)
         elif value.isdigit() is True and isinstance(ast.literal_eval(value), float):
             value = float(value)
         dict_of_element = {'key': key,
                            'type': type(value).__name__,
                            'value': value}
@@ -135,26 +140,33 @@
     """
     if isinstance(value, list):
         dict_for_list = {'key': key,
                          'type': type(value).__name__,
                          'value': []}
 
         for k in value:
-            k.pop('@id')
+            try:
+                k.pop('@id')
+            except:
+                pass
             dict_list = []
             for m in k.keys():
                 if type(k.get(m)).__name__ == 'dict' and word_in_list('@unit', list(k.get(m).keys())):
                     attr = {'unit': k.get(m).get('@unit')}
                     dict_list.append(create_dict_from_element(m, k.get(m).get('#text'), attr))
                 elif type(k.get(m)).__name__ == 'dict':
-                    dict_list.append(create_list_from_dict(m, k.get(m).get('#text')))
+                    try:
+                        dict_list.append(create_list_from_dict(m, k.get(m).get('#text')))
+                    except:
+                        dict_list.append(create_list_from_dict(m, k.get(m)))
                 elif isinstance(k.get(m), list):
                     dict_list.append(create_list_from_list(m, k.get(m)))
                 else:
                     if type(k.get(m)).__name__ == 'NoneType':
+                        print(key)
                         continue
                     else:
                         dict_list.append(create_dict_from_element(m, k.get(m), {}))
             dict_for_list['value'].append({'type': 'dict', 'value': dict_list})
     # List with only one element is not detected as list
     else:
         dict_for_list = {'key': key,
```

## FAIRSave/kadi_record.py

```diff
@@ -216,52 +216,58 @@
         linked_record_id = link_to
     else:
         linked_record_id = search_item_id_kadi(instance=instance,
                                                title=link_to,
                                                item='record')
     rd_record = manager.record(id=linked_record_id)
 
-    # Add to collection
-    collection_links = rd_record.get_collection_links().json()
-    if collection_links.get('items') != []:
-        for n in collection_links.get('items'):
-            collection_id = n.get('id')
-            record.add_collection_link(collection_id)
-    # Add record link to experiment
+    # Add record link to other record
     record.link_record(linked_record_id, link_name)
     # Add the type of record
     record.edit(type=record_type)
-    record.edit(visibilty=rd_record.meta.get('visibilty'))
-    record.edit(license=rd_record.meta.get('license'))
-
-    # # Add description    ################## TODO generalize ##################
-    # description_ontology = "TriboDataFAIR-Ontology"
-    # description_URL = "https://github.com/nick-garabedian/TriboDataFAIR-Ontology"
-    # description_commit = "ec2fb485b05d73013f8057f3853b4d92e42e2db3"
-    # description_class = "TribologicalExperiment"
-    # description_id = "TDO:0000001"
-    # description_onto_info = ("Record based on *" + description_ontology +
-    #                          "*\n\nURL: " + description_URL +
-    #                          " \n\nCommit: " + description_commit +
-    #                          " \n\nOntology Class Name: " + description_class +
-    #                          " \n\nOntology Persistent ID: " + description_id)
-    # if description is not None:
-    #     description_new = description + "\n\n" + description_onto_info
-    #     record.edit(description=description_new)
-    # else:
-    #     description_new = description_onto_info
-    #     record.edit(description=description_new)
+    record.edit(visibilty=rd_record.meta.get('visibility'))
+    record.edit(license="CC-BY-4.0")
+    record.edit(description=description)
 
     # Add permissions to record
     for x in rd_record.get_groups().json().get('items'):
         group_id = x.get('group').get('id')
         group_role = x.get('role').get('name')
         record.add_group_role(group_id=group_id, role_name=group_role)
 
 
+def record_link_collection_kadi(instance: str,
+                                record: Union[int, str],
+                                collection: Union[int, str]):
+    """Add a record to a collection.
+
+    Args:
+        instance (str): The name of the instance o use in combination with a config file.
+        record (Union[int, str]): Name or ID of the record that should be linked to a collection.
+        collection (Union[int, str]): Name or ID of the collection the record should be linked to.
+    """
+    manager = KadiManager(instance=instance)
+    
+    if type(record) == 'int':
+        record_id = record
+    else:
+        record_id = search_item_id_kadi(instance=instance,
+                                        title=record,
+                                        item='record')
+    
+    if type(collection) == 'int':
+        collection_id = collection
+    else:
+        collection_id = search_item_id_kadi(instance=instance,
+                                        title=collection,
+                                        item='collection')
+    collection = manager.collection(id=collection_id)
+    
+    collection.add_record_link(record_id=record_id)
+
 def Record_Add_Tags(*args, **kwargs):
     import warnings
     warnings.simplefilter('always', DeprecationWarning)
     warnings.warn('Warning! "Record_Add_Tags" will be renamed to '
                   '"record_add_tags_kadi" in a future release!',
                   DeprecationWarning)
     return record_add_tags_kadi(*args, **kwargs)
@@ -320,48 +326,41 @@
                                         item='record')
     record = manager.record(id=record_id)
 
     # Read the operator config
     (first_name, last_name, institution,
      user_role, user_token, building,
      floor, room_number, institution_location,
-     tags, description) = read_operator_config(instance=instance)
+     tags, description) = read_operator_config(instance=operator)
 
     # Time: dalight saings time
     if time.daylight == 1:
         time_plus = 0
     else:
         time_plus = 1
     time_zone = 1
     time_shift = time_zone + time_plus
     time_shift = '+0' + str(time_shift) + ':00'
 
     # Add metadata to the record
-    list_of_dict = [{'key': 'General Info', 'type': 'dict', 'value': [
-                        {'key': 'Location', 'type': 'dict', 'value': [
+    list_of_dict = [{'key': 'General Info (Process)', 'type': 'dict', 'value': [
+                        {'key': 'Location Information', 'type': 'dict', 'value': [
                             {'key': 'Building', 'type': 'str', 'value': building.replace("Ã‚", "")},
-                            {'key': 'Floor', 'type': 'str', 'value': floor},
+                            {'key': 'Floor', 'type': 'int', 'value': floor},
                             {'key': 'Room Number', 'type': 'str', 'value': room_number},
                             {'key': 'Institution (Location)', 'type': 'str', 'value': institution_location}
                             ]},
                         {'key': 'Operator(s) in Charge', 'type': 'dict', 'value': [
                             {"key": "Last Name", "type": "str", "value": last_name},
                             {"key": "First Name", "type": "str", "value": first_name},
                             {'key': 'Institution Name', 'type': 'str', 'value': institution},
                             {'key': 'User Role', 'type': 'str', 'value': user_role},
                             {'key': 'User Token', 'type': 'str', 'value': user_token}]},
                         {'key': 'Timestamp', 'type': 'date', 'value': str(datetime.now()).replace(' ', 'T') + time_shift}
                         ]}
-                    # ,  # TODO Software is not generalized
-                    # {'key': 'Array of Software Used', 'type': 'list', 'value': [
-                    # {'type': 'dict', 'value': [
-                    #     {'key': 'Software Name', 'type': 'str', 'value': 'MATLAB'},
-                    #     {'key': 'Software Version', 'type': 'str', 'value': 'R2022b'}
-                    #     ]}
-                    # ]}
                     ]
     if sofware_info:
         list_of_dict.append(sofware_info)
     else:
         list_of_dict.append({'key': 'Array of Software Used', 'type': 'list', 'value': [
             {'type': 'dict', 'value': [
                 {'key': 'Software Name', 'type': 'str', 'value': 'MATLAB'},
@@ -412,46 +411,20 @@
         # Add metadata from files
         for file in file_list:
             file_id = []
             file_metadata = {'Array of Produced File Metadata': []}
             if isfile(files_path + '\\' + file):
                 record.upload_file(files_path + '\\' + file, force=True)
                 file_id = record.get_file_id(file)
-                # file_info = record.get_file_info(file_id).json()
-                # size is given in bytes but displayed in kB
-                # file_size = file_info.get('size')/1000
-                # file_MD = {'type': 'dict', 'value': [
-                #             {'key': 'File Persistent ID', 'type': 'str', 'value': file_id},
-                #             {'key': 'File Path', 'type': 'str', 'value': files_path + '/' + file},
-                #             {'key': 'File Name', 'type': 'str', 'value': file},
-                #             {'key': 'File Size', 'type': 'float', 'unit': 'kB', 'value': file_size},
-                #             {'key': 'File(s) Purpose', 'type': 'str', 'value': file_purpose}
-                #             ]}
-                file_MD = {# 'File Persistent ID': file_id,
-                #            'File Path': files_path + '/' + file,
-                #            'File Name': file,
-                #            'File Size': {'@unit': 'kB', '#text': file_size},
-                           'File(s) Purpose': file_purpose}
-                file_metadata['value'].append(file_MD)
+                file_MD = {'File(s) Purpose': file_purpose}
+                file_metadata['Array of Produced File Metadata'].append(file_MD)
             elif isdir(files_path + '\\' + file):
                 zip_file = shutil.make_archive(files_path + '/' + file,
                                                'zip',
                                                files_path + '/' + file,
                                                files_path)
                 record.upload_file(zip_file, force=True)
                 file_id = record.get_file_id(file + '.zip')
-                # file_info = record.get_file_info(file_id).json()
-                # file_MD = {'type': 'dict', 'value': [
-                #             {'key': 'File Persistent ID', 'type': 'str', 'value': file_id},
-                #             {'key': 'Number of Files', 'type': 'int', 'value': len(os.listdir(files_path + '\\' + file))},
-                #             {'key': 'File Path', 'type': 'str', 'value': str(zip_file)},
-                #             {'key': 'File Name', 'type': 'str', 'value': file + '.zip'},
-                #             {'key': 'File(s) Purpose', 'type': 'str', 'value': file_purpose}
-                #             ]}
-                file_MD = {#'File Persistent ID': file_id,
-                        #    'Number of Files': len(os.listdir(files_path + '\\' + file)),
-                        #    'File Path': str(zip_file),
-                        #    'File Name': file + '.zip',
-                           'File(s) Purpose': file_purpose}
-                file_metadata['value'].append(file_MD)
+                file_MD = {'File(s) Purpose': file_purpose}
+                file_metadata['Array of Produced File Metadata'].append(file_MD)
 
             record.edit_file(file_id=file_id, description=str(file_metadata))
```

## FAIRSave/kadi_search.py

```diff
@@ -16,15 +16,16 @@
                             item: str,
                             keywords: Optional[str] = None,
                             title: Optional[str] = None,
                             tags: Optional[str] = None,
                             description: Optional[str] = None,
                             record_type: Optional[str] = None,
                             collection_id: Optional[int] = None,
-                            collection: Optional[str] = None) -> List[str]:
+                            collection: Optional[str] = None,
+                            visibility: Optional[str] = 'private') -> List[str]:
 
     """Search for Items.
 
     Args:
         instance: The name of the instance to use in combination with a config file.
         item: item: The resource type defined either as string or class.
         keywords: Words in title or tags to search for. Defaults to None.
@@ -54,24 +55,26 @@
                                             item='collection')
 
     sr = KadiManager(instance=instance).search_resource()
 
     search_results = (sr.search_items(item=item,
                                       type=record_type,
                                       collection=collection_id,
-                                      per_page=100))
+                                      per_page=100,
+                                      visibility=visibility))
     pages = search_results.json()['_pagination'].get('total_pages')
 
     title_list = []
     for n in range(1, pages+1):
         var = sr.search_items(item=item,
                               type=record_type,
                               collection=collection_id,
                               per_page=100,
-                              page=n).json().get('items')
+                              page=n,
+                              visibility=visibility).json().get('items')
         if keywords is not None:
             title_list += [x['title']
                            for x in var
                            if (keywords in x['title']
                                or any(keywords in s for s in x['tags'])
                                or keywords in x['plain_description'])
                            ]
@@ -103,15 +106,16 @@
 
 
 def search_item_id_kadi(instance: str,
                         title: str,
                         item: str,
                         collection: Optional[str] = None,
                         collection_id: Optional[int] = None,
-                        record_type: Optional[str] = None) -> int:
+                        record_type: Optional[str] = None,
+                        visibility: Optional[str] = 'private') -> int:
     """Search for ID of item.
 
     Args:
         instance: The name of the instance to use in combination with a config file.
         title: Title of the record to get the ID from.
         item: The resource type defined as string.
         collection: Title of collection to search in. Defaults to None.
@@ -127,24 +131,26 @@
                                             item='collection')
 
     sr = KadiManager(instance=instance).search_resource()
     search_results = (sr.search_items(item=item,
                                       collection=collection_id,
                                       type=record_type,
                                       title=title,
-                                      per_page=100))
+                                      per_page=100,
+                                      visibility=visibility))
     pages = search_results.json()['_pagination'].get('total_pages')
     records = []
     for n in range(1, pages+1):
         page_records = sr.search_items(item=item,
                                        collection=collection_id,
                                        type=record_type,
                                        title=title,
                                        per_page=100,
-                                       page=n).json().get('items')
+                                       page=n,
+                                       visibility=visibility).json().get('items')
         records = records + page_records
 
     title_id_tuple = [(x['title'], x['id'])
                       for x in records
                       if x['title'] == title][0]
 
     return title_id_tuple[1]
@@ -160,15 +166,16 @@
 
 
 def search_item_identifier_kadi(instance: str,
                                 title: str,
                                 item: str,
                                 collection: Optional[str] = None,
                                 collection_id: Optional[int] = None,
-                                record_type: Optional[str] = None) -> int:
+                                record_type: Optional[str] = None,
+                                visibility: Optional[str] = 'private') -> int:
     """Search for ID of item.
 
     Args:
         instance: The name of the instance to use in combination with a config file.
         title: Title of the record to get the ID from.
         item: The resource type defined as string.
         collection: Title of collection to search in. Defaults to None.
@@ -185,24 +192,26 @@
                                             item='collection')
 
     sr = KadiManager(instance=instance).search_resource()
     search_results = (sr.search_items(item=item,
                                       collection=collection_id,
                                       type=record_type,
                                       title=title,
-                                      per_page=100))
+                                      per_page=100,
+                                      visibility=visibility))
     pages = search_results.json()['_pagination'].get('total_pages')
     records = []
     for n in range(1, pages+1):
         page_records = sr.search_items(item=item,
                                        collection=collection_id,
                                        type=record_type,
                                        title=title,
                                        per_page=100,
-                                       page=n).json().get('items')
+                                       page=n,
+                                       visibility=visibility).json().get('items')
         records = records + page_records
     title_identifier_tuple = [(x['title'], x['identifier'])
                       for x in records
                       if x['title'] == title][0]
 
     return title_identifier_tuple[1]
 
@@ -274,18 +283,21 @@
                                           item='record',
                                           collection_id=collection_id,
                                           record_type=record_type,
                                           keywords=keywords)
     record_numbers = []
 
     for record in record_list:
-        number = int(re
+        try:
+            number = int(re
                      .findall('#[0-9]{4}', record)[0]
                      .replace('#', '')
                      .lstrip('0'))
+        except:
+            print("")
         record_numbers.append(number)
 
     if record_numbers != []:
         record_max_number = str(max(record_numbers))
         for record in record_list:
             if record[-4:] == record_max_number.zfill(4):
                 record_name = record
@@ -319,7 +331,8 @@
                                      keywords=keywords)
 
     if latest_title != "":
         record_number = str(int(latest_title[-4:].strip('0'))+1).zfill(4)
         suggested_title = latest_title[:-4] + record_number
 
         return suggested_title
+
```

## Comparing `FAIRSave-0.0.5.3.dist-info/LICENSE` & `FAIRSave-0.0.6.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `FAIRSave-0.0.5.3.dist-info/METADATA` & `FAIRSave-0.0.6.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,22 +1,23 @@
 Metadata-Version: 2.1
 Name: FAIRSave
-Version: 0.0.5.3
+Version: 0.0.6
 Summary: Package to run the FAIR-Save toolbox
+Home-page: UNKNOWN
 Author: Malte Flachmann, Floriane Bresser, Ilia Bagov (Karlsruhe Institute of Technology)
 Author-email: malte.flachmann@student.kit.edu
 License: Apache-2.0
 Project-URL: GitLab, https://gitlab.com/linked-tribological-data/fair-save/FAIR-Save_Utilities
 Project-URL: Changelog, https://gitlab.com/linked-tribological-data/fair-save/FAIR-Save-Utilities/-/blob/main/Changelog.md
 Keywords: Kadi4Mat,FAIR
+Platform: UNKNOWN
 Requires-Python: >=3.10
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: kadi-apy (>=0.25.0)
-Requires-Dist: uuid (>=1.30)
 Requires-Dist: xmltodict (>=0.13.0)
 Requires-Dist: nested-lookup (>=0.2.25)
 
 # FAIRSave-Utilities
 
 
 
@@ -154,7 +155,9 @@
 
 
 
 ## License
 
 Apache 2.0
 
+
+
```

## Comparing `FAIRSave-0.0.5.3.dist-info/RECORD` & `FAIRSave-0.0.6.dist-info/RECORD`

 * *Files 20% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 FAIRSave/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 FAIRSave/configuration.py,sha256=0ehQ_OkseYMsgKhRsdVUclBOXvt4NH1aiobHvN5ziW8,9303
 FAIRSave/eln_manager.py,sha256=dpo3PAS55a_wXGvemiE0eoNr4FsPmCvspezAio-HcX4,2872
-FAIRSave/kadi_download.py,sha256=dCTxprLLp3weqdzE1nmFxE57dbs-uH80bZbafLxIUiQ,4628
+FAIRSave/kadi_download.py,sha256=PWFSppaWx7PjCW1d5W5G4vnisojNoUnZ0qYxp--l9hw,4454
 FAIRSave/kadi_identifier.py,sha256=3OiylNuqzwY3EQgw0Nfov196DOBt495aCEAZUhYdYfY,4081
 FAIRSave/kadi_instances.py,sha256=Xx0dMqouFFHBp9Yo8W4b5dDeX8iss_faGm9fufkVKyQ,3613
-FAIRSave/kadi_json_writer.py,sha256=Ud6xOfdUOoPy9GxS4YDa3XPF44ywj2HAMA_Da5cJHUY,7754
-FAIRSave/kadi_record.py,sha256=Pwvui3CX0EPUfWNPhcLq2PT8k6qfXTddFNwheE0-PYo,20564
-FAIRSave/kadi_search.py,sha256=XVR6P8cfp_bnoBc8Lhj32nhJhlcinalFtyGAqFMFyz4,13386
+FAIRSave/kadi_json_writer.py,sha256=2ke4ywZNqFYlLrlX30mPkdqnw5QfM0Bs3DjXqYjNh-w,8198
+FAIRSave/kadi_record.py,sha256=-_b38AQcNPPCU4FM_sRVbmK7d9W4fEfTG6tgYMIUNCc,18172
+FAIRSave/kadi_search.py,sha256=1MyPD85ud0pZGhUXJwfHO43gDMdGFOG0gGAlil3noSs,14016
 FAIRSave/kadi_template.py,sha256=m0vC4gxy_-liaAe40xlX3VRjxQJXw6pq4s6FDFDzgyk,1351
 FAIRSave/tools/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 FAIRSave/tools/comparison.py,sha256=gQ76mS9glUf9bcS7kWB0mtSx7lZ7WySTz4zCMmdF6zI,9443
 FAIRSave/tools/difference.py,sha256=Drc0LwvT29WUhzyjUgphfM_nuGIi0Oab0138q1PUFKs,16743
 FAIRSave/tools/json_reader.py,sha256=YnE9_3lToaJxU0aVoYOchBcbQh0RoYvuRgtkuwuXRj0,6976
 FAIRSave/tools/key.py,sha256=kspBVidTf54F_GmUdhh6fPT5G7bLHQpjfI2CoUEc-jk,10754
 FAIRSave/tools/metadata.py,sha256=MBtDeQrfrl_uRUSamR7q1JFPoE8JkPN7_UNSi5qdIGs,9861
 FAIRSave/tools/surftheowl_json.py,sha256=Ie9MGa1mXrxaQxynb9daDhR2LFa4kkf4tZ0Hrdb8AgU,2536
 FAIRSave/tools/validation.py,sha256=pQDKRIaoEylU5hPuI_loncMEYAgzgYbZgpm7u7Doat8,4495
-FAIRSave-0.0.5.3.dist-info/LICENSE,sha256=itGSoY4BUSDO1X36lIFXCBlN8XsDnZRP-qdcfnmKazw,11734
-FAIRSave-0.0.5.3.dist-info/METADATA,sha256=WFFBY407m8DqNG_WyVm7tsfHarGzEvKaJK4yGRoW5qM,3814
-FAIRSave-0.0.5.3.dist-info/WHEEL,sha256=ZL1lC_LiPDNRgDnOl2taCMc83aPEUZgHHv2h-LDgdiM,92
-FAIRSave-0.0.5.3.dist-info/top_level.txt,sha256=BemltgO7SU5GOPMbfMCBkSpXowdROrlrsN46O3nTt6A,9
-FAIRSave-0.0.5.3.dist-info/RECORD,,
+FAIRSave-0.0.6.dist-info/LICENSE,sha256=itGSoY4BUSDO1X36lIFXCBlN8XsDnZRP-qdcfnmKazw,11734
+FAIRSave-0.0.6.dist-info/METADATA,sha256=GrAjAWV1Yo26OK4_CU3gfyQEOXWAIbPUVgbPj1krPuk,3825
+FAIRSave-0.0.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+FAIRSave-0.0.6.dist-info/top_level.txt,sha256=BemltgO7SU5GOPMbfMCBkSpXowdROrlrsN46O3nTt6A,9
+FAIRSave-0.0.6.dist-info/RECORD,,
```

