# Comparing `tmp/odoo_addon_account_statement_import_online_paypal-15.0.1.1.0-py3-none-any.whl.zip` & `tmp/odoo_addon_account_statement_import_online_paypal-15.0.1.1.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 40162 bytes, number of entries: 20
--rw-r--r--  2.0 unx     6928 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/README.rst
--rw-r--r--  2.0 unx       87 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/__init__.py
--rw-r--r--  2.0 unx      681 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/__manifest__.py
--rw-r--r--  2.0 unx    34648 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/i18n/account_statement_import_online_paypal.pot
--rw-r--r--  2.0 unx      118 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/models/__init__.py
--rw-r--r--  2.0 unx    21943 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/models/online_bank_statement_provider_paypal.py
--rw-r--r--  2.0 unx     2454 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      173 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       87 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      845 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      258 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/static/description/icon.png
--rw-r--r--  2.0 unx    17760 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/static/description/index.html
--rw-r--r--  2.0 unx      124 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/tests/__init__.py
--rw-r--r--  2.0 unx    27037 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py
--rw-r--r--  2.0 unx     1678 b- defN 23-May-01 12:30 odoo/addons/account_statement_import_online_paypal/views/online_bank_statement_provider.xml
--rw-r--r--  2.0 unx     7590 b- defN 23-May-01 12:30 odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-01 12:30 odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-May-01 12:30 odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2619 b- defN 23-May-01 12:30 odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/RECORD
-20 files, 134582 bytes uncompressed, 35532 bytes compressed:  73.6%
+Zip file size: 40318 bytes, number of entries: 20
+-rw-r--r--  2.0 unx     6928 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/README.rst
+-rw-r--r--  2.0 unx       87 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/__init__.py
+-rw-r--r--  2.0 unx      681 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/__manifest__.py
+-rw-r--r--  2.0 unx    34648 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/i18n/account_statement_import_online_paypal.pot
+-rw-r--r--  2.0 unx      118 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/models/__init__.py
+-rw-r--r--  2.0 unx    22041 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/models/online_bank_statement_provider_paypal.py
+-rw-r--r--  2.0 unx     2454 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      173 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       87 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      845 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      258 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/static/description/icon.png
+-rw-r--r--  2.0 unx    17760 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/static/description/index.html
+-rw-r--r--  2.0 unx      124 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/tests/__init__.py
+-rw-r--r--  2.0 unx    29337 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py
+-rw-r--r--  2.0 unx     1678 b- defN 23-Jun-12 09:37 odoo/addons/account_statement_import_online_paypal/views/online_bank_statement_provider.xml
+-rw-r--r--  2.0 unx     7590 b- defN 23-Jun-12 09:37 odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-12 09:37 odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-12 09:37 odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2619 b- defN 23-Jun-12 09:37 odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/RECORD
+20 files, 136980 bytes uncompressed, 35688 bytes compressed:  73.9%
```

## zipnote {}

```diff
@@ -42,20 +42,20 @@
 
 Filename: odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py
 Comment: 
 
 Filename: odoo/addons/account_statement_import_online_paypal/views/online_bank_statement_provider.xml
 Comment: 
 
-Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/METADATA
+Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/WHEEL
+Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/top_level.txt
+Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/RECORD
+Filename: odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_statement_import_online_paypal/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2019 Brainbean Apps (https://brainbeanapps.com)
 # Copyright 2020-2021 CorporateHub (https://corporatehub.eu)
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 {
     "name": "Online Bank Statements: PayPal.com",
-    "version": "15.0.1.1.0",
+    "version": "15.0.1.1.1",
     "author": "CorporateHub, Odoo Community Association (OCA)",
     "maintainers": ["alexey-pelykh"],
     "website": "https://github.com/OCA/bank-statement-import",
     "license": "AGPL-3",
     "category": "Accounting",
     "summary": "Online bank statements for PayPal.com",
     "depends": ["account_statement_import_online"],
```

## odoo/addons/account_statement_import_online_paypal/models/online_bank_statement_provider_paypal.py

```diff
@@ -202,16 +202,19 @@
             )
 
         token = self._paypal_get_token()
         transactions = self._paypal_get_transactions(
             token, currency, date_since, date_until
         )
         if not transactions:
-            balance = self._paypal_get_balance(token, currency, date_since)
-            return [], {"balance_start": balance, "balance_end_real": balance}
+            if self.allow_empty_statements:
+                balance = self._paypal_get_balance(token, currency, date_since)
+                return [], {"balance_start": balance, "balance_end_real": balance}
+            else:
+                return None
 
         # Normalize transactions, sort by date, and get lines
         transactions = list(
             sorted(
                 transactions,
                 key=lambda transaction: self._paypal_get_transaction_date(transaction),
             )
```

## odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py

```diff
@@ -271,15 +271,15 @@
             data = provider.with_context(
                 test_account_statement_import_online_paypal_monday=True,
             )._obtain_statement_data(
                 self.now - relativedelta(hours=1),
                 self.now,
             )
 
-        self.assertEqual(data, ([], {"balance_start": 0.75, "balance_end_real": 0.75}))
+        self.assertEqual(data, None)
 
     def test_error_handling_1(self):
         journal = self.AccountJournal.create(
             {
                 "name": "Bank",
                 "type": "bank",
                 "code": "BANK",
@@ -327,15 +327,18 @@
         with mock.patch(
             _provider_class + "._paypal_urlopen",
             return_value=mocked_response,
         ):
             with self.assertRaises(UserError):
                 provider._paypal_retrieve("https://url", "")
 
-    def test_empty_pull(self):
+    def test_dont_create_empty_paypal_statements(self):
+        """Test the default behavior of not creating empty PayPal
+        statements ('Allow empty statements' field is unchecked).
+        """
         journal = self.AccountJournal.create(
             {
                 "name": "Bank",
                 "type": "bank",
                 "code": "BANK",
                 "currency_id": self.currency_eur.id,
                 "bank_statements_source": "online",
@@ -347,14 +350,90 @@
         mocked_response_1 = json.loads(
             """{
     "transaction_details": [],
     "account_number": "1234567890",
     "start_date": "%s",
     "end_date": "%s",
     "last_refreshed_datetime": "%s",
+    "page": 1,
+    "total_items": 0,
+    "total_pages": 0
+}"""
+            % (
+                self.now_isoformat,
+                self.now_isoformat,
+                self.now_isoformat,
+            ),
+            parse_float=Decimal,
+        )
+        mocked_response_2 = json.loads(
+            """{
+    "balances": [
+        {
+            "currency": "EUR",
+            "primary": true,
+            "total_balance": {
+                "currency_code": "EUR",
+                "value": "0.75"
+            },
+            "available_balance": {
+                "currency_code": "EUR",
+                "value": "0.75"
+            },
+            "withheld_balance": {
+                "currency_code": "EUR",
+                "value": "0.00"
+            }
+        }
+    ],
+    "account_id": "1234567890",
+    "as_of_time": "%s",
+    "last_refresh_time": "%s"
+}"""
+            % (
+                self.now_isoformat,
+                self.now_isoformat,
+            ),
+            parse_float=Decimal,
+        )
+        with mock.patch(
+            _provider_class + "._paypal_retrieve",
+            side_effect=[mocked_response_1, mocked_response_2],
+        ), self.mock_token():
+            data = provider._obtain_statement_data(
+                self.now - relativedelta(hours=1),
+                self.now,
+            )
+
+        self.assertEqual(data, None)
+
+    def test_create_empty_paypal_statements(self):
+        """Test creating empty PayPal statements
+        ('Allow empty statements' field is checked).
+        """
+        journal = self.AccountJournal.create(
+            {
+                "name": "Bank",
+                "type": "bank",
+                "code": "BANK",
+                "currency_id": self.currency_eur.id,
+                "bank_statements_source": "online",
+                "online_bank_statement_provider": "paypal",
+            }
+        )
+
+        provider = journal.online_bank_statement_provider_id
+        provider.allow_empty_statements = True
+        mocked_response_1 = json.loads(
+            """{
+    "transaction_details": [],
+    "account_number": "1234567890",
+    "start_date": "%s",
+    "end_date": "%s",
+    "last_refreshed_datetime": "%s",
     "page": 1,
     "total_items": 0,
     "total_pages": 0
 }"""
             % (
                 self.now_isoformat,
                 self.now_isoformat,
```

## Comparing `odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/METADATA` & `odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-account-statement-import-online-paypal
-Version: 15.0.1.1.0
+Version: 15.0.1.1.1
 Summary: Online bank statements for PayPal.com
 Home-page: https://github.com/OCA/bank-statement-import
 Author: CorporateHub, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/RECORD` & `odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 odoo/addons/account_statement_import_online_paypal/README.rst,sha256=ycR0EV-_QeOYXaxzTMd3Prd2Sduq3Vr18gZH2QDJunI,6928
 odoo/addons/account_statement_import_online_paypal/__init__.py,sha256=eShEGRadAlxopoLqIQ4-N42FM7MWPSuBe0h_l1cXTPM,87
-odoo/addons/account_statement_import_online_paypal/__manifest__.py,sha256=3-Lx8e4FoLIFuFQlttomnqYpdiKjlUvnkHvAGBpgmmI,681
+odoo/addons/account_statement_import_online_paypal/__manifest__.py,sha256=HefqMl8L31HKmM3OEyMZ1m--GT6mDvNm9mLNB5VTQyw,681
 odoo/addons/account_statement_import_online_paypal/i18n/account_statement_import_online_paypal.pot,sha256=iF_h8u_5yjDHeE0F2AFXWabxlsqWLimVol-nefMUnHY,34648
 odoo/addons/account_statement_import_online_paypal/models/__init__.py,sha256=YlcE88uXQixnJnBFEammxN845hn8VRwkwF1q_WwStUo,118
-odoo/addons/account_statement_import_online_paypal/models/online_bank_statement_provider_paypal.py,sha256=U-0sxrfqs-N4634-0SuBMPG-wboolac_NjBk0ApBwpk,21943
+odoo/addons/account_statement_import_online_paypal/models/online_bank_statement_provider_paypal.py,sha256=Jwv7_WR_NFakj0Veds1YfyNnhmzXSvAl1L6WX-QZ0WM,22041
 odoo/addons/account_statement_import_online_paypal/readme/CONFIGURE.rst,sha256=jITIfz0SmWrJO6A4e2izxjB36dW84YL0-OdNJQCUASk,2454
 odoo/addons/account_statement_import_online_paypal/readme/CONTRIBUTORS.rst,sha256=Kl27ZEXmksv0uGpOL5wbjV7-RdILf-DJky4P3gyDg4o,173
 odoo/addons/account_statement_import_online_paypal/readme/DESCRIPTION.rst,sha256=4WCruPP-ky4pVUfUk4VeaiWgQh3NAH38xBZpeqya87I,87
 odoo/addons/account_statement_import_online_paypal/readme/ROADMAP.rst,sha256=SKzOPUBC_vhWH0CTEY2-n-AWJdToJda62P7I6NvwSts,845
 odoo/addons/account_statement_import_online_paypal/readme/USAGE.rst,sha256=QlkDl_m6x6Q_naef6-8txzmZsvuMH3T7MSAHIildBbQ,258
 odoo/addons/account_statement_import_online_paypal/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/account_statement_import_online_paypal/static/description/index.html,sha256=ClFaL2zq1smNSTzEq4eSp7bM1VXRAGlTJyiehv-Oo8Y,17760
 odoo/addons/account_statement_import_online_paypal/tests/__init__.py,sha256=E10WtP-Uk_pbtyaxtSs6ojrAdpCIVsr6iRQvg2H-Tbo,124
-odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py,sha256=NRSav2M9t_3NTSRvCVJmdZ4JGQtqWQTKtQ_L3Nf2hlA,27037
+odoo/addons/account_statement_import_online_paypal/tests/test_account_statement_import_online_paypal.py,sha256=oYCNl1SAWKzJ1SnO0oZn-QUGe8NaoJeg97JmzLyeHyU,29337
 odoo/addons/account_statement_import_online_paypal/views/online_bank_statement_provider.xml,sha256=fTJVsPGFjeD3gxKM9RFhyhYGQe_3BxAhZYDF1Lo6YWM,1678
-odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/METADATA,sha256=vLP3XBb1iuBbeAfvWmfwJTpTo2BOiWmAzPS_npX6c7Q,7590
-odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_account_statement_import_online_paypal-15.0.1.1.0.dist-info/RECORD,,
+odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/METADATA,sha256=K3GlKTiYOPrcDHLLoMqKz0BSugthTQhBo1ZdZKk4l1Y,7590
+odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_account_statement_import_online_paypal-15.0.1.1.1.dist-info/RECORD,,
```

